Ext.namespace('Js.Center.Statistics.UploadFailedWhiteListCheck');Js.Center.Statistics.UploadFailedWhiteListCheck.info = function(node){     if (Ext.get("Js.Center.Statistics.UploadFailedWhiteListCheck.RightPanel") == null) {        //============================================================================定义GridPanel相关        var _pageSize = 12;                        Js.Center.Statistics.UploadFailedWhiteListCheck.Infostore = new WXTL.Widgets.CommonData.GroupingStore({            proxy: new Ext.data.HttpProxy({                url: Js.Center.Statistics.UploadFailedWhiteListCheckURL,                method: "POST"            }),            reader: new Ext.data.JsonReader({                fields: ["numberid","vc2mobile", "numsvcid", "datreporttime", "datcreatetime", "numrepeattime"],                root: "data",                id: "numberid",                totalProperty: "totalCount"                        }),            //groupField:'numparentid',            sortInfo: {                field: 'datcreatetime',                direction: 'DESC'            },//解决分组无效代码            baseParams: {                vc2mobile: '',				numrepeattime: '',                flag: 'getwhitelistfailedreport'            }        });        Js.Center.Statistics.UploadFailedWhiteListCheck.Infostore.load({            params: {                start: 0,                limit: _pageSize,                vc2mobile: '',				numrepeattime: '',                flag: 'getwhitelistfailedreport'            }        });                               //==============================================================列头        var cm = new Ext.grid.ColumnModel([{            header: "手机号",            tooltip: "手机号",            dataIndex: "vc2mobile",            sortable: true            //editor: new Ext.form.TextField        }, {            header: "重复次数",            tooltip: "重复次数",            dataIndex: "numrepeattime",            sortable: true            //editor: new Ext.form.TextField        }, {            header: "状态报告返回时间",            tooltip: "状态报告返回时间",            dataIndex: "datreporttime",            sortable: true            //editor: new Ext.form.TextField        }, {            header: "处理时间",            tooltip: "处理时间",            dataIndex: "datcreatetime",            sortable: true            //editor: new Ext.form.TextField        }]);                //==============================================================定义grid        var rightGrid = new WXTL.Widgets.CommonGrid.GridPanel({            id: "rightGridPanel",            anchor: '100% 100%',            pageSize: _pageSize,            store: Js.Center.Statistics.UploadFailedWhiteListCheck.Infostore,			needMenu: false,            needRightMenu: false,            cm: cm,            listeners: {//                "rowcontextmenu": function(grid, rowIndex, e){//                    e.stopEvent();//                    openRightClick.showAt(e.getXY());//                },                "afteredit": function(e){                    this.afterEdit(e);                }            }        });                //============================================================================ 定义formpanel        var selectPanel = new WXTL.Widgets.CommonPanel.QueryFormPanel({            id: "rightSelectPanel",            labelWidth: 100,            //查询调用的方法            queryMethod: "Js.Center.Statistics.UploadFailedWhiteListCheck.queryGrid",            					items: [{                layout: 'column',                items: [{                    columnWidth: .5,                    layout: 'form',                    defaultType: "textfield",                    //锚点布局-                    defaults: {                        anchor: "90%",                        msgTarget: "side"                    },                    items: [{						xtype:'textfield',						fieldLabel: '手机号码',						regex:/^[\d]+$/,						validationEvent:"keyup",						regexText:"只能够输入数字",						name: 'vc2mobile',						id: 'UploadFailedVc2mobile'					}]                }, {                    columnWidth: .5,                    layout: 'form',                    defaultType: "textfield",                    //锚点布局-                    defaults: {                        anchor: "90%",                        msgTarget: "side"                    },                    items: [{						xtype:'textfield',						fieldLabel: '重复次数',						regex:/^[\d]+$/,						validationEvent:"keyup",						regexText:"只能够输入数字",						name: 'numrepeattime',						id: 'UploadFailedNumrepeattime'					}]                }]            }]                });                //============================================================== 定义查询按钮事件方法        Js.Center.Statistics.UploadFailedWhiteListCheck.queryGrid = function(){            var vc2mobile = Ext.get("UploadFailedVc2mobile").getValue();			var numrepeattime = Ext.get("UploadFailedNumrepeattime").getValue();            var flag = 'getwhitelistfailedreport';            Js.Center.Statistics.UploadFailedWhiteListCheck.Infostore.baseParams = {                vc2mobile: vc2mobile,				numrepeattime: numrepeattime,                flag: flag            };            Js.Center.Statistics.UploadFailedWhiteListCheck.Infostore.load({                params: {                    start: 0,                    limit: _pageSize,                    vc2mobile: vc2mobile,					numrepeattime: numrepeattime,                    flag: flag                }            });        };                //============================================================================定义主panel        Js.Center.Statistics.UploadFailedWhiteListCheck.RightPanel = new Ext.Panel({            frame: true, // 渲染面板            id: "Js.Center.Statistics.UploadFailedWhiteListCheck.RightPanel",            bodyBorder: false,            border: false,            autoScroll: true, // 自动显示滚动条            layout: "anchor",            defaults: {                collapsible: true // 允许展开和收缩            },            items: [selectPanel, rightGrid]        });    }    //============================================================================绑定到center    GridMain(node, Js.Center.Statistics.UploadFailedWhiteListCheck.RightPanel, "openroomiconinfo", "Js.Center.Statistics.UploadFailedWhiteListCheck.Infostore");};